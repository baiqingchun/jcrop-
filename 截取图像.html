<!DOCTYPE html>

<head>
    <title>HTML DOM DEMO</title>

</head>
<body >
<canvas id="demo" width="400" height="400"></canvas>
<img src="" id="aa">
<script  type="text/javascript">
    function run() {
//        var d = document.getElementsByTagName("canvas");
         var canvas = document.createElement("canvas");;

        var aa=document.getElementById('aa');
        var c = canvas.getContext("2d");

        var img = new Image();
        img.src = 'image3.jpg';
        c.drawImage(img,0,0,800,500,0,0,200,200);
     
        aa.src=canvas.toDataURL("image/png");
        console.log(aa.src)
//        c.drawImage(img,120,100,100,100)
//        img.onload = function(){
//            for (var i = 0; i < 4; i++){
//                for (var j = 0; j < 4; j++){
//                    c.drawImage(img, j * 100, i * 100, 100, 100);
//                }
//            }
//        }

    }
    run();
</script>
</body>
</html>